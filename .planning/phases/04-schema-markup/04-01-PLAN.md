---
phase: 04-schema-markup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - package-lock.json
  - src/schemas/organization.ts
  - src/schemas/breadcrumbs.ts
  - src/pages/Index.tsx
autonomous: true

must_haves:
  truths:
    - "Homepage contains valid Organization JSON-LD with name, url, logo, email, address, and sameAs (LinkedIn)"
    - "Homepage contains valid ProfessionalService JSON-LD with address and opening hours"
    - "Homepage contains valid WebSite JSON-LD with publisher referencing Organization @id"
    - "react-schemaorg and schema-dts are installed and importable"
    - "Shared business data constants exist in a reusable module"
    - "Breadcrumb helper function exists and produces valid BreadcrumbList JSON-LD"
  artifacts:
    - path: "src/schemas/organization.ts"
      provides: "BUSINESS_DATA constant with all org fields"
      exports: ["BUSINESS_DATA"]
    - path: "src/schemas/breadcrumbs.ts"
      provides: "breadcrumbJsonLd helper function"
      exports: ["breadcrumbJsonLd"]
    - path: "src/pages/Index.tsx"
      provides: "Homepage with Organization + ProfessionalService + WebSite @graph JSON-LD"
      contains: "helmetJsonLdProp"
  key_links:
    - from: "src/pages/Index.tsx"
      to: "src/schemas/organization.ts"
      via: "import BUSINESS_DATA"
      pattern: "import.*BUSINESS_DATA.*organization"
    - from: "src/schemas/organization.ts"
      to: "react-schemaorg"
      via: "npm dependency"
      pattern: "react-schemaorg"
---

<objective>
Install react-schemaorg and schema-dts, create reusable schema helpers, and add Organization + ProfessionalService + WebSite JSON-LD to the homepage.

Purpose: Establishes the schema markup foundation (libraries, shared constants, breadcrumb helper) and delivers the highest-value schema -- Organization/LocalBusiness on the homepage -- which is how Google identifies the business entity. Also fulfills SOCL-04 (sameAs with LinkedIn URL) deferred from Phase 3.

Output: Working JSON-LD on homepage, reusable helpers for all subsequent plans.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-schema-markup/04-RESEARCH.md

Key files to read before implementing:
@src/pages/Index.tsx (existing Helmet block to extend with script prop)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install dependencies and create reusable schema helpers</name>
  <files>
    package.json
    package-lock.json
    src/schemas/organization.ts
    src/schemas/breadcrumbs.ts
  </files>
  <action>
1. Install react-schemaorg and schema-dts:
   ```bash
   npm install react-schemaorg schema-dts
   ```

2. Create `src/schemas/organization.ts` with a `BUSINESS_DATA` constant:
   ```ts
   export const BUSINESS_DATA = {
     name: "10x Velocity",
     url: "https://10xvelocity.ai/",
     logo: "https://10xvelocity.ai/lovable-uploads/d113002f-f6b2-41b5-aa96-2057dc8f4046.png",
     email: "info@10xvelocity.ai",
     description: "10x Velocity helps businesses automate workflows and leverage AI to save time and cut costs. AI consulting and automation services based in Louisville, KY.",
     linkedIn: "https://www.linkedin.com/company/10x-velocity",
     image: "https://10xvelocity.ai/og-image.png",
     address: {
       streetAddress: "10440 Bluegrass Pkwy",
       addressLocality: "Louisville",
       addressRegion: "KY",
       postalCode: "40299",
       addressCountry: "US",
     },
   } as const;
   ```

3. Create `src/schemas/breadcrumbs.ts` with a `breadcrumbJsonLd` helper:
   ```ts
   import { helmetJsonLdProp } from "react-schemaorg";
   import { BreadcrumbList } from "schema-dts";

   interface BreadcrumbItem {
     name: string;
     path: string;
   }

   export function breadcrumbJsonLd(items: BreadcrumbItem[]) {
     return helmetJsonLdProp<BreadcrumbList>({
       "@context": "https://schema.org",
       "@type": "BreadcrumbList",
       itemListElement: items.map((item, index) => ({
         "@type": "ListItem" as const,
         position: index + 1,
         name: item.name,
         ...(index < items.length - 1
           ? { item: `https://10xvelocity.ai${item.path}` }
           : {}),
       })),
     });
   }
   ```
   The last breadcrumb item omits the `item` property per Google's spec (Google uses the page URL).
  </action>
  <verify>
    - `npm ls react-schemaorg` shows 2.0.0 installed
    - `npm ls schema-dts` shows 1.1.5 installed
    - `npx tsc --noEmit` passes (no TypeScript errors)
    - `src/schemas/organization.ts` exports BUSINESS_DATA
    - `src/schemas/breadcrumbs.ts` exports breadcrumbJsonLd
  </verify>
  <done>react-schemaorg and schema-dts installed. BUSINESS_DATA constant and breadcrumbJsonLd helper exist in src/schemas/ and compile without errors.</done>
</task>

<task type="auto">
  <name>Task 2: Add Organization + ProfessionalService + WebSite JSON-LD to homepage</name>
  <files>src/pages/Index.tsx</files>
  <action>
Modify the existing `<Helmet>` block in Index.tsx to add a `script` prop with a single `helmetJsonLdProp` call using `@graph` to bundle three schema entities:

1. Add imports at top of file:
   ```ts
   import { helmetJsonLdProp } from "react-schemaorg";
   import { BUSINESS_DATA } from "@/schemas/organization";
   ```

2. Add `script` prop to the existing `<Helmet>` tag (do NOT duplicate the Helmet block -- add `script={[...]}` as a prop on the existing one):
   ```tsx
   <Helmet
     script={[
       helmetJsonLdProp<any>({
         "@context": "https://schema.org",
         "@graph": [
           {
             "@type": "Organization",
             "@id": `${BUSINESS_DATA.url}#organization`,
             name: BUSINESS_DATA.name,
             url: BUSINESS_DATA.url,
             logo: { "@type": "ImageObject", url: BUSINESS_DATA.logo },
             description: BUSINESS_DATA.description,
             email: BUSINESS_DATA.email,
             sameAs: [BUSINESS_DATA.linkedIn],
             address: {
               "@type": "PostalAddress",
               ...BUSINESS_DATA.address,
             },
           },
           {
             "@type": "ProfessionalService",
             "@id": `${BUSINESS_DATA.url}#localbusiness`,
             name: BUSINESS_DATA.name,
             url: BUSINESS_DATA.url,
             image: BUSINESS_DATA.image,
             address: {
               "@type": "PostalAddress",
               ...BUSINESS_DATA.address,
             },
             openingHoursSpecification: {
               "@type": "OpeningHoursSpecification",
               dayOfWeek: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
               opens: "09:00",
               closes: "17:00",
             },
           },
           {
             "@type": "WebSite",
             "@id": `${BUSINESS_DATA.url}#website`,
             url: BUSINESS_DATA.url,
             name: BUSINESS_DATA.name,
             description: "AI & Automation Consulting",
             publisher: { "@id": `${BUSINESS_DATA.url}#organization` },
           },
         ],
       }),
     ]}
   >
   ```

   **Do NOT include SearchAction** -- the site has no internal search, and Google deprecated Sitelinks Search Box in Nov 2024. WebSite schema is valid without SearchAction.

   Keep all existing meta tags, title, canonical, OG tags, and twitter card tags unchanged inside the Helmet block.
  </action>
  <verify>
    - `npm run build` succeeds with no errors
    - Run dev server (`npm run dev`) and inspect the page source (or use React DevTools) to confirm a `<script type="application/ld+json">` tag appears in the head
    - The JSON-LD contains @graph with three entries: Organization, ProfessionalService, WebSite
    - Organization has sameAs with LinkedIn URL (fulfills SOCL-04)
    - ProfessionalService has openingHoursSpecification
    - WebSite has publisher referencing Organization @id
  </verify>
  <done>Homepage renders valid JSON-LD with Organization (including sameAs LinkedIn), ProfessionalService, and WebSite schema. Build passes. SCHM-01, SCHM-06, and SOCL-04 fulfilled.</done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. View page source of homepage at localhost:8080 -- a `<script type="application/ld+json">` block exists containing @graph with Organization, ProfessionalService, and WebSite
3. Organization schema includes: name, url, logo (ImageObject), description, email, sameAs (LinkedIn), address
4. ProfessionalService includes: name, url, image, address, openingHoursSpecification (Mon-Fri 9-5)
5. WebSite includes: url, name, description, publisher (@id reference to Organization)
6. No SearchAction is present (intentionally omitted)
</verification>

<success_criteria>
- react-schemaorg and schema-dts installed and in package.json
- src/schemas/organization.ts exports BUSINESS_DATA constant
- src/schemas/breadcrumbs.ts exports breadcrumbJsonLd helper
- Homepage HTML contains valid JSON-LD script with Organization + ProfessionalService + WebSite
- npm run build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/04-schema-markup/04-01-SUMMARY.md`
</output>
